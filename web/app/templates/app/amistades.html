{% extends "app/base.html" %}
{% load static %}

{% block title %}Amistades{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/amistades_conectati.css' %}">
{% endblock %}

{% block titulo_pagina %}Amistades{% endblock %}
{% block titulo_pagina_mobile %}Amistades{% endblock %}

{% block contenido2 %}
<div class="contenedor-info">
  <div class="columna-central">
    <section class="lista-amigos">
      {% for amigo in amigos %}
      <div class="item-amigo">
        <img src="{{ amigo.foto|default:'/static/images/default_user.avif' }}" alt="{{ amigo.nombre }}" />
        <div class="contenido">
          <strong>@{{ amigo.username }}</strong> <span class="nombre">{{ amigo.nombre }}</span>
          <p>{{ amigo.descripcion|default:"" }}</p>
        </div>
        <i class="fas fa-user-slash eliminar"></i>
      </div>
      {% empty %}
      <p>No tienes amigos aún.</p>
      {% endfor %}
    </section>

    <section class="solicitudes">
      <h3>Solicitudes de Amistad</h3>
      {% for solicitud in solicitudes %}
      {% with usuario=solicitud.de_usuario %}
      <div class="item-solicitud">
        <img src="{{ usuario.foto|default:'/static/images/default_user.avif' }}" alt="{{ usuario.nombre }}" />
        <div class="contenido">
          <strong>@{{ usuario.username }}</strong> <span class="nombre">{{ usuario.nombre }}</span>
          <p>{{ usuario.descripcion|default:"" }}</p>
        </div>
        <div class="acciones">
          <i class="fas fa-check aceptar" title="Aceptar" data-id="{{ solicitud.id }}"></i>
          <i class="fas fa-times rechazar" title="Rechazar" data-id="{{ solicitud.id }}"></i>
        </div>
      </div>
      {% endwith %}
      {% empty %}
      <p>No tienes nuevas solicitudes de amistad.</p>
      {% endfor %}
    </section>
  </div>

  <div class="panel-lateral">
    <h3>Mensajes</h3>
    {% for i in "12" %}
    <a href="#">
      <div class="mensaje-preview">
        <img src="https://i.pravatar.cc/150?img=47" alt="Ana" />
        <div class="mensaje-info">
          <div class="usuario">
            <span class="nombre">Ana García</span>
            <span>@anag · 4h</span>
          </div>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        </div>
        <i class="fas fa-envelope"></i>
      </div>
    </a>
    {% endfor %}

    <h3>Solicitudes de mensajes</h3>
    {% for i in "12" %}
    <div class="solicitud-preview">
      <img src="https://i.pravatar.cc/150?img=21" alt="Carlos" />
      <div class="mensaje-info">
        <div class="usuario">
          <span class="nombre">Carlos Mendoza</span>
          <span>@carlosm · 3h</span>
        </div>
        <p>¿Podemos hablar por aquí?</p>
      </div>
      <div class="acciones">
        <a href="#"><i class="fas fa-check aceptar" title="Aceptar"></i></a>
        <i class="fas fa-times rechazar" title="Rechazar"></i>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/amistades_conectati.js' %}"></script>
{% endblock %}

